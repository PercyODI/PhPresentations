<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Camunda Propeller Heads and Pizza</title>

    <!-- <meta name="description" content="A framework for easily creating beautiful presentations using HTML"> -->
    <meta name="author" content="Pearse Hutson">
    <!-- 
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"> -->

    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->


    <link rel="stylesheet" href="https://unpkg.com/reveal.js@4.0.2/dist/reset.css">
    <link rel="stylesheet" href="https://unpkg.com/reveal.js@4.0.2/dist/reveal.css">
    <link rel="stylesheet" href="https://unpkg.com/reveal.js@4.0.2/dist/theme/blood.css" id="theme">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="https://unpkg.com/reveal.js@4.0.2/plugin/highlight/monokai.css" id="highlight-theme">

    <!-- Stylesheets for BPMN diagrams -->
    <link rel="stylesheet" href="https://unpkg.com/bpmn-js@7.3.0/dist/assets/diagram-js.css" />
    <link rel="stylesheet" href="https://unpkg.com/bpmn-js@7.3.0/dist/assets/bpmn-font/css/bpmn.css" />
    <style>
        .bpmn {
            background-color: #eee;
            border-radius: 0.25em;
        }
    </style>

    <style>
        .row {
            display: flex;
            flex-direction: row;
        }

        .flex-1 {
            flex: 1;
        }
    </style>
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section>
                <h2>Camunda And VU!</h2>
                <hr>
                <div class="bpmn" src="\CamundaPandP\bpmns\IntroSlide.bpmn"></div>
            </section>
            <section>
                <h3>A Presentation in 2 Parts</h3>
                <ol>
                    <li>BPMN and Business Process Modeling</li>
                    <li>The Camunda Engine</li>
                </ol>
            </section>
            <section data-auto-animate>
                <h3 data-id="title">BPMN</h3>
                <hr data-id="line">
                <p>BPMN Stands for "Business Process Model and Notation"</p>
                <div class="fragment">
                    <span>
                        Considered "one of the one of the most important components of successful Business-IT Alignment"
                        <p style="float: right;">- Camunda</p>
                    </span>
                </div>
            </section>
            <section data-auto-animate>
                <h3 data-id="title">BPMN</h3>
                <hr data-id="line">
                <p>Why use BPMN?</p>
                <ul>
                    <li>Standard</li>
                    <li>Simplicity</li>
                    <li>Power of Expression</li>
                    <li>Implementation in IT</li>
                </ul>

                <aside class="notes" data-markdown>
                    ### Standard:

                    BPMN is not owned by a certain enterprise but by an institution (OMG), which is already established
                    through other world-wide standards, e.g., UML. The standard is supported by many software products;
                    you are less dependent on any particular vendor’s products.

                    ### Simplicity

                    The principle behind BPMN is rather simple which is why you can start working with this notation
                    very quickly.

                    ### Power of Expression

                    If necessary, you can describe precisely how a process functions with BPMN. However, this is more
                    difficult than only roughly describing the process. This way of precise modeling is possible, but
                    not mandatory.

                    ### Implementation in IT

                    BPMN has been primarily developed to support technical implementation of processes (“Process
                    Automation”). The more important the IT is in a company, the more helpful the use of BPMN becomes.

                </aside>
            </section>
            <section data-auto-animate>
                <h3 data-id="title">BPMN</h3>
                <hr data-id="line">
                <p>Not Owned by Camunda, but by OMG</p>
                <iframe src="https://www.omg.org/about/index.htm" class="r-stretch"></iframe>
                <aside class="notes" data-markdown>
                    BPMN is owned by the Object Management Group.
                    
                    This group also owns standards such as Model Driven Architecture and UML
                </aside>
            </section>
            <section data-auto-animate>
                <h3 data-id="title">BPMN</h3>
                <hr data-id="line">
                <p>Not Owned by Camunda, but by OMG</p>
                <p>No vendor lock-in!</p>
                <aside class="notes" data-markdown>
                    This means that by learning and building BPMN, we will create models that can be moved to other BPMN implementations. 

                    We aren't tied to Camunda
                </aside>
            </section>
            <section>
                <h3 data-id="title">What Does BPMN Look Like?</h3>
                <hr data-id="line">
                <p>Let's take a quick look at what BPMN diagrams look like</p>
            </section>
            <section>
                <h3 data-id="title">Our First Workflow</h3>
                <hr data-id="line">
                <div class="bpmn r-stretch" src="\CamundaPandP\bpmns\StartTaskEnd.bpmn"></div>
            </section>
            <section>
                <h3>It's all XML to Me</h3>
                <pre><code class="hljs xml external" src="\CamundaPandP\bpmns\PropellerHeadsFull.bpmn"></code></pre>

            </section>
        </div>

    </div>

    <!-- Set up Mermaid Chart Rendering -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            theme: "dark",
            startOnLoad: false,
            securityLevel: "loose"
        });

        function renderMermaidDiagramOnSlide(revealEvent) {
            let mermaidElements = Array.from(revealEvent.currentSlide.querySelectorAll(".mermaid:not(.rendered)"));

            for (const mermaidElementIndex in mermaidElements) {
                let mermaidElement = mermaidElements[mermaidElementIndex];
                let mermaidId = "diagram-" + event.indexh + event.indexv + mermaidElementIndex;
                let graphDef = mermaidElement.textContent;
                console.log(graphDef);

                try {
                    mermaid.render(mermaidId, graphDef, svgGraph => {
                        mermaidElement.innerHTML = svgGraph;
                        mermaidElement.classList.add("rendered");
                    });
                } catch (error) {
                    console.dir(error);
                    mermaidElement.classList.add("rendered");
                    mermaidElement.innerHTML = "<p style='color: red;'>Error rendering Graph <i class='fas fa-sad-tear'></i></p><br><code><pre>" + error + "</code></pre>"
                }
            }
        }
    </script>

    <!-- Set up BPMN Workflow Rendering -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/bpmn-js@7.3.0/dist/bpmn-navigated-viewer.production.min.js"></script>
    <script>

        function renderBpmnWorkflowOnSlide(revealEvent) {
            let bpmnElements = Array.from(revealEvent.currentSlide.querySelectorAll(".bpmn:not(.rendered)"));

            for (const bpmnElementIndex in bpmnElements) {
                let bpmnElement = bpmnElements[bpmnElementIndex];

                bpmnElement.classList.add("rendered");

                // the diagram you are going to display
                var bpmnXML = axios({
                    method: 'GET',
                    url: bpmnElement.getAttribute("src")
                })
                    .then(function (result) {
                        console.log(result);
                        // BpmnJS is the BPMN viewer instance
                        var viewer = new BpmnJS({ container: bpmnElement });

                        // import a BPMN 2.0 diagram
                        viewer.importXML(result.data).then(function (err) {
                            var canvas = viewer.get('canvas');
                            canvas.zoom("fit-viewport", "auto");
                        });
                    });
            }
        }
    </script>

    <!-- Reveal Setup -->
    <script src="https://unpkg.com/reveal.js@4.0.2/dist/reveal.js"></script>
    <script src="https://unpkg.com/reveal.js@4.0.2/plugin/zoom/zoom.js"></script>
    <script src="https://unpkg.com/reveal.js@4.0.2/plugin/notes/notes.js"></script>
    <script src="https://unpkg.com/reveal.js@4.0.2/plugin/search/search.js"></script>
    <script src="https://unpkg.com/reveal.js@4.0.2/plugin/markdown/markdown.js"></script>
    <script src="https://unpkg.com/reveal.js@4.0.2/plugin/highlight/highlight.js"></script>
    <script>
        function setUpReveal() {
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,
                totalTime: 3000,
                pdfSeparateFragments: false,
                transition: 'slide', // default/none/fade/slide/convex/concave/zoom
                plugins: [RevealZoom, RevealNotes, RevealSearch, RevealMarkdown, RevealHighlight]
            });

            Reveal.on("slidechanged", renderMermaidDiagramOnSlide);
            Reveal.on("ready", renderMermaidDiagramOnSlide);

            Reveal.on("slidechanged", renderBpmnWorkflowOnSlide);
            Reveal.on("ready", renderBpmnWorkflowOnSlide);
        }
    </script>

    <!-- Get All External Files (For Code Highlighting to Work) -->
    <script>
        let externalFileElements = Array.from(document.querySelectorAll(".external"));

        for (const externalFileElementIndex in externalFileElements) {
            let externalFileElement = externalFileElements[externalFileElementIndex];
            externalFileElement.innerHTML = "";

            axios({
                method: 'GET',
                url: externalFileElement.getAttribute("src")
            }).then(function (result) {
                externalFileElement.textContent = result.data;
            }).finally(function () {
                setUpReveal();
            });

        }
    </script>
    <script src="https://kit.fontawesome.com/f4ba660226.js" crossorigin="anonymous"></script>
</body>

</html>